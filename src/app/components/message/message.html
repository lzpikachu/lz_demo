<div ng-if="displayTime" class="time">{{::message.timestamp | date:'H:mm'}}</div>
<div class="message" ng-if="::message.id" ng-class="::{mine: isMine}" layout="column">
    <div class="user" ng-if="::!isMine" ng-click="onNameClick()">{{ ::message.from }}</div>
    <div layout layout-align="start end">
        <span class="tips" ng-if="isLastDelivered ">已送达</span>
        <span class="tips" ng-if="isLastRead">已读</span>
        <md-icon ng-if="message.status === messageStatus.SENDING">reply</md-icon>
        <md-icon ng-if="message.status === messageStatus.FAILED">error</md-icon>
        <div class="content">{{ ::message.text }}</div>
    </div>
</div>

<div class="tips" ng-if="::!message.id">{{ message.text }}</div>